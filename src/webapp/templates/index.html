{% extends "base.html" %}

{% block title %}ElixirPeptides{% endblock %}

{% block extra_css %}
{% endblock %}

{% block content %}
<!-- üîç Search overlay -->
<div class="search-overlay" id="search-overlay">
    <div class="search-header">
        <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤..."/>
        <button id="close-search">‚úï</button>
    </div>
    <ul id="history-list"></ul>
</div>

<!-- Toolbar -->
<div class="toolbar" id="toolbar">
    <button class="toolbar-btn" id="sort-btn">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</button>
    <button class="toolbar-btn" id="filter-btn">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
</div>

<!-- Root App container -->
<div id="app">
    <div id="tos-overlay" class="hidden">
        <div class="tos-modal">
            <h2 class="tos-title">–£—Å–ª–æ–≤–∏—è –ø–æ–∫—É–ø–∫–∏</h2>
            <p class="tos-text">
                –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç—ã
                –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ—ë —Å–æ–≥–ª–∞—Å–∏–µ.
            </p>

            <a
                    href="https://elixirpeptide.com/privacy/offer/"
                    target="_blank"
                    rel="noreferrer"
                    class="tos-link"
            >
                –û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –æ—Ñ–µ—Ä—Ç–æ–π
            </a>
        </div>
    </div>

    <!-- Product list view -->
    <div id="product-list" class="product-grid"></div>

    <!-- Product detail view -->
    <div id="product-detail" style="display:none;"></div>

    <!-- üõí Cart page view -->
    <div id="cart-page" style="display:none;">
        <div id="cart-summary">
            <p class="total-label" id="summary-label">
                <span class="total-label">–ò—Ç–æ–≥–æ:</span>
                <span class="total-amount">0 ‚ÇΩ</span>
            </p>
            <div class="promo">
                <label for="promo" style="display: none">–ü—Ä–æ–º–æ-–∫–æ–¥</label>
                <input type="text" id="promo" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ-–∫–æ–¥"/>
            </div>
        </div>
        <div id="cart-items"></div>
    </div>

    <!-- ‚úÖ Checkout page view -->
    <div id="checkout-page" style="display:none;">

        <div id="delivery-header-container"></div>

        <div id="delivery-widget-container">
            <div id="cdek-map-container" class="delivery-widget"></div>
            <div id="yandex-map-container" class="delivery-widget"></div>
        </div>

        <div id="checkout-actions"></div>

    </div>

    <!-- ‚úâÔ∏è Contact form page -->
    <div id="contact-page" style="display:none;">
        <form id="contact-form" novalidate>
            <input type="text" name="name" placeholder="–ò–º—è" required/>
            <input type="text" name="surname" placeholder="–§–∞–º–∏–ª–∏—è" required/>
            <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required/>
            <input type="email" name="email" placeholder="Email" required/>
        </form>
    </div>
    <div id="payment-page" style="display:none;">
        <div class="payment-card">
            <div class="payment-summary-row total">
                <span>–ö –æ–ø–ª–∞—Ç–µ</span>
                <span id="payment-total">0 ‚ÇΩ</span>
            </div>
            <div class="payment-summary-row" id="payment-delivery-row" style="display:none;">
                <span>–î–æ—Å—Ç–∞–≤–∫–∞</span>
                <span id="payment-delivery-amount">0 ‚ÇΩ</span>
            </div>
        </div>

        <!-- Methods -->
        <div class="payment-card">
            <div class="payment-summary-row" style="margin-bottom:8px;">
                <span>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</span>
            </div>

            <div class="payment-method-list" id="payment-methods">

                <!-- Crypto USDT -->
                <label class="payment-method active">
                    <input type="radio" name="payment_method" value="usdt" checked>
                    <div>
                        <div class="payment-method-title">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ USDT</div>
                        <div class="payment-method-desc">
                            –û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ –≤ USDT –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ú—ã –ø–æ–∫–∞–∂–µ–º –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –∏ —Å—É–º–º—É.
                        </div>
                    </div>
                </label>

                <!-- YooKassa -->
                <label class="payment-method">
                    <input type="radio" name="payment_method" value="yookassa">
                    <div>
                        <div class="payment-method-title">–ÆKassa (–∫–∞—Ä—Ç–∞, –°–ë–ü –∏ –¥—Ä.)</div>
                        <div class="payment-method-desc">
                            –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏–º –≤–∞—Å –Ω–∞ –∑–∞—â–∏—â—ë–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ÆKassa –¥–ª—è –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç—ã.
                        </div>
                    </div>
                </label>

                <!-- Pay later -->
                <label class="payment-method">
                    <input type="radio" name="payment_method" value="later">
                    <div>
                        <div class="payment-method-title">–û–ø–ª–∞—Ç–∏—Ç—å –ø–æ–∑–∂–µ</div>
                        <div class="payment-method-desc">
                            –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –±–µ–∑ –æ–ø–ª–∞—Ç—ã —Å–µ–π—á–∞—Å. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –∏ —É—Ç–æ—á–Ω–∏–º –¥–µ—Ç–∞–ª–∏.
                        </div>
                    </div>
                </label>

            </div>

            <div class="payment-note" id="payment-method-note" style="margin-top: 8px !important;">
                –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: USDT. –ü–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –º—ã –ø–æ–∫–∞–∂–µ–º –≤–∞–º —Ä–µ–∫–≤–∏–∑–∏—Ç—ã.
            </div>
        </div>
        <div id="process-payment-page" class="payment-card" style="display: none;">
            <div id="usdt" style="display: none;">
                <div id="qr-code">

                </div>
                <span id="usdt-address"></span>
                <label id="txid">
                    <input type="text" name="tx_id">
                </label>
            </div>
            <div id="yookassa" style="display: none;">
                <svg class="redirect-svg"></svg>
            </div>
            <div id="later" style="display: none">
                –° –≤–∞–º–∏ —Å–∫–æ—Ä–æ —Å–≤—è–∂—É—Ç—Å—è
            </div>
        </div>
    </div>

</div>
{% endblock %}

{% block extra_js %}
<!-- Optional delivery service widgets -->
<script src="https://cdn.jsdelivr.net/npm/@cdek-it/widget@3" charset="utf-8"></script>
<script async src="https://ndd-widget.landpro.site/widget.js"></script>
{% endblock %}